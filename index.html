<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Viaje Europa - Plan Maestro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      crossorigin=""
    />
    <style>
      :root {
        color-scheme: light;
        font-family: "Space Grotesk", "Segoe UI", system-ui, -apple-system,
          sans-serif;
        line-height: 1.6;
        --bg: #f0f4ff;
        --bg-alt: #e8ecfb;
        --card: #ffffff;
        --accent: #4b6bfb;
        --accent-alt: #ff8a3d;
        --text: #141936;
        --muted: #5f6b85;
        --border: #d6dcf4;
        --shadow: 0 20px 80px rgba(46, 74, 255, 0.12);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        background: radial-gradient(circle at top right, #f7f8ff, #e5ebff);
        color: var(--text);
      }

      header {
        background: linear-gradient(120deg, #0f1a45, #3d5bff);
        color: #fff;
        padding: 3.5rem clamp(1rem, 5vw, 6rem) 4rem;
        border-bottom-left-radius: 30px;
        border-bottom-right-radius: 30px;
        box-shadow: var(--shadow);
      }

      header h1 {
        margin: 0 0 1rem;
        font-size: clamp(2rem, 4vw, 3rem);
      }

      header p {
        margin: 0;
        max-width: 60ch;
        font-size: 1.1rem;
      }

      nav {
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
        margin-top: 2rem;
      }

      nav a {
        text-decoration: none;
        color: #fff;
        border: 1px solid #ffffff66;
        border-radius: 12px;
        padding: 0.45rem 1.1rem;
        font-size: 0.9rem;
        backdrop-filter: blur(8px);
        transition: background 0.2s ease, transform 0.2s ease;
      }

      nav a:hover {
        background: #ffffff29;
        transform: translateY(-1px);
      }

      main {
        padding: clamp(1rem, 5vw, 5rem);
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }

      section {
        background: var(--card);
        border-radius: 18px;
        padding: clamp(1.5rem, 3vw, 2.5rem);
        box-shadow: var(--shadow);
        border: 1px solid var(--border);
      }

      h2 {
        margin-top: 0;
        font-size: 1.6rem;
      }

      .grid {
        display: grid;
        gap: 1rem;
      }

      @media (min-width: 900px) {
        .grid.deux {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .grid.trois {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
      }

      .card {
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 1rem;
        background: #fefefe;
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.7);
      }

      .tag {
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
        font-size: 0.85rem;
        padding: 0.1rem 0.75rem;
        border-radius: 999px;
        background: #e9edff;
        color: var(--accent);
        margin-right: 0.3rem;
      }

      ul {
        padding-left: 1.1rem;
        margin: 0.6rem 0;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
        font-size: 0.95rem;
      }

      th,
      td {
        border: 1px solid var(--border);
        padding: 0.6rem;
        text-align: left;
      }

      th {
        background: #eef2ff;
      }

      .timeline {
        counter-reset: step;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .timeline-item {
        display: flex;
        gap: 1rem;
      }

      .timeline-item::before {
        counter-increment: step;
        content: counter(step);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: var(--accent);
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        flex-shrink: 0;
      }

      .timeline-content {
        background: #f6f8ff;
        border-radius: 14px;
        padding: 0.9rem 1.2rem;
        flex: 1;
        border: 1px solid #dee4ff;
      }

      .cost-range {
        font-weight: 600;
        color: var(--accent-alt);
      }

      .highlight {
        background: #fff7ec;
        border-left: 4px solid var(--accent-alt);
        padding: 0.7rem 1rem;
        border-radius: 12px;
        margin: 0.8rem 0;
      }

      .accordion {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .accordion-item {
        border: 1px solid var(--border);
        border-radius: 16px;
        background: #fefefe;
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8);
        overflow: hidden;
      }

      .accordion-item[open] {
        box-shadow: var(--shadow);
      }

      .accordion-item summary {
        list-style: none;
        cursor: pointer;
        padding: 1.2rem 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 0.35rem;
        font-weight: 600;
      }

      .accordion-item summary::-webkit-details-marker {
        display: none;
      }

      .accordion-item summary::after {
        content: "+";
        margin-left: auto;
        font-size: 1.3rem;
        color: var(--accent);
      }

      .accordion-item[open] summary::after {
        content: "âˆ’";
      }

      .summary-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
        align-items: center;
      }

      .summary-meta strong {
        font-size: 1rem;
      }

      .summary-note {
        color: var(--muted);
        font-size: 0.9rem;
      }

      .accordion-body {
        padding: 0 1.5rem 1.4rem;
        border-top: 1px solid var(--border);
      }

      .accordion-body ul {
        margin: 0.6rem 0 0;
        padding-left: 1.1rem;
        color: var(--text);
      }

      .day-checklist {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1rem;
      }

      .day-card {
        position: relative;
        border-radius: 18px;
        padding: 1.1rem 1.2rem 1.2rem 3rem;
        border: 1px solid var(--border);
        background: linear-gradient(135deg, #ffffff, #f3f5ff);
        box-shadow: 0 15px 40px rgba(31, 39, 58, 0.08);
      }

      .day-card input[type="checkbox"] {
        position: absolute;
        left: 1rem;
        top: 1.25rem;
        width: 18px;
        height: 18px;
        cursor: pointer;
        accent-color: var(--accent);
      }

      .day-card input:checked + .day-content .day-title {
        text-decoration: line-through;
        opacity: 0.6;
      }

      .day-title {
        font-weight: 600;
        margin: 0;
      }

      .day-subtitle {
        margin: 0.2rem 0 0;
        color: var(--muted);
        font-size: 0.92rem;
      }

      .reset-btn {
        background: #141936;
        color: #fff;
        border: none;
        border-radius: 14px;
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        cursor: pointer;
        margin-top: 1rem;
        transition: opacity 0.2s ease;
      }

      .reset-btn:hover {
        opacity: 0.85;
      }

      #travelMap {
        width: 100%;
        height: 480px;
        border-radius: 18px;
        border: 1px solid var(--border);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
        overflow: hidden;
        margin-bottom: 1.5rem;
      }

      .timeline-slider-container {
        margin-top: 1.5rem;
        padding: 1.2rem 1rem;
        background: #f6f8ff;
        border-radius: 16px;
        border: 1px solid var(--border);
      }

      .timeline-slider-wrapper {
        position: relative;
        margin-bottom: 0.8rem;
        padding: 1rem;
        background: #eef2ff;
        border-radius: 12px;
      }

      .timeline-slider-track {
        position: relative;
        height: 8px;
        background: #d6dcf4;
        border-radius: 8px;
        margin: 0.5rem 0;
      }

      .timeline-slider-progress {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        border-radius: 8px;
        background: linear-gradient(90deg, #4b6bfb, #6b82ff);
        transition: width 0.3s ease;
        pointer-events: none;
        z-index: 1;
        width: 0%;
      }

      .timeline-slider {
        width: 100%;
        height: 8px;
        border-radius: 8px;
        background: transparent;
        outline: none;
        -webkit-appearance: none;
        appearance: none;
        cursor: pointer;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;
      }

      .timeline-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--accent);
        border: 3px solid #fff;
        box-shadow: 0 2px 8px rgba(75, 107, 251, 0.4);
        cursor: grab;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .timeline-slider::-webkit-slider-thumb:hover {
        transform: scale(1.15);
        box-shadow: 0 4px 12px rgba(75, 107, 251, 0.6);
      }

      .timeline-slider::-webkit-slider-thumb:active {
        cursor: grabbing;
        transform: scale(1.1);
      }

      .timeline-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--accent);
        border: 3px solid #fff;
        box-shadow: 0 2px 8px rgba(75, 107, 251, 0.4);
        cursor: grab;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .timeline-slider::-moz-range-thumb:hover {
        transform: scale(1.15);
        box-shadow: 0 4px 12px rgba(75, 107, 251, 0.6);
      }

      .timeline-slider::-moz-range-thumb:active {
        cursor: grabbing;
        transform: scale(1.1);
      }

      .timeline-labels {
        display: flex;
        justify-content: space-between;
        font-size: 0.75rem;
        color: var(--muted);
        margin-top: 0.4rem;
        padding: 0 0.5rem;
      }

      .timeline-label {
        text-align: center;
        flex: 1;
      }

      .timeline-current-day {
        text-align: center;
        margin-top: 0.6rem;
        font-weight: 600;
        color: var(--accent);
        font-size: 0.95rem;
      }

      footer {
        text-align: center;
        padding: 2rem 1rem 3rem;
        font-size: 0.9rem;
        color: var(--muted);
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Plan Maestro Â· Europa Abril-Mayo</h1>
      <p>
        25 dÃ­as explorando EspaÃ±a, Francia e Italia. Todo lo esencial para tu
        viaje: ruta optimizada, reservas prioritarias, presupuesto detallado,
        logÃ­stica de transporte, conectividad, y consejos prÃ¡cticos.
      </p>
      <nav>
        <a href="#info-rapida">InformaciÃ³n rÃ¡pida</a>
        <a href="#ruta">Ruta</a>
        <a href="#reservas">Reservas</a>
        <a href="#costos">Costos</a>
        <a href="#transporte">Transporte</a>
        <a href="#alojamiento">Alojamiento</a>
        <a href="#hoteles-madrid">Hoteles Madrid</a>
        <a href="#agenda">Agenda diaria</a>
        <a href="#mapa">Mapa</a>
        <a href="#capri">Capri</a>
        <a href="#disney">Disney</a>
        <a href="#actividades">Actividades</a>
        <a href="#eventos">Eventos Deportivos & MÃºsica</a>
        <a href="#comunicacion">Conectividad</a>
        <a href="#comida">Comida</a>
        <a href="#documentos">Documentos</a>
        <a href="#tips">Tips</a>
        <a href="#contactos">Contactos</a>
      </nav>
    </header>

    <main>
      <section id="info-rapida">
        <h2>InformaciÃ³n RÃ¡pida</h2>
        <div class="grid trois">
          <div class="card">
            <div class="tag">Fechas</div>
            <p>29 de abril â†’ 25 de mayo (25 dÃ­as)</p>
            <small>Vuelo ida: 29 abr 21:45h MVD â†’ 30 abr 14:35h MAD (IB0170)<br />Vuelo regreso: 25 may 11:50h MAD â†’ 19:45h MVD (IB0169)</small>
          </div>
          <div class="card">
            <div class="tag">Destinos</div>
            <p>
              Madrid Â· Barcelona Â· ParÃ­s Â· MilÃ¡n/Como Â· Venecia Â· Florencia Â·
              Toscana Â· Cinque Terre Â· Roma Â· NÃ¡poles Â· Costa
              Amalfitana
            </p>
          </div>
          <div class="card">
            <div class="tag">Presupuesto estimado</div>
            <p class="cost-range">â‚¬3,104 - â‚¬5,282 por persona (sin vuelo internacional)</p>
            <small>Incluye transporte, alojamiento, comida, actividades, datos y extras.</small>
          </div>
        </div>
        <div class="highlight">
          âœ… Vuelos confirmados: Ida 29 abr (IB0170), NÃ¡poles-Madrid 24 may 06:05h (â‚¬91.77), y regreso 25 may (IB0169), Madrid Terminal 4S.
        </div>
      </section>

      <section id="ruta">
        <h2>Ruta Optimizada (con transporte sugerido)</h2>
        <div class="accordion">
          <details class="accordion-item" open>
            <summary>
              <div class="summary-meta">
                <span class="tag">30 abr - 1 may</span>
                <strong>Madrid Â· 2 dÃ­as</strong>
              </div>
              <span class="summary-note">Tren AVE a Barcelona (2 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte:</strong> AVE Madrid-Puerta de Atocha â†’ Barcelona-Sants (2h30).</li>
                <li><strong>Compra:</strong> <a href="https://www.renfe.com" target="_blank" rel="noreferrer">renfe.com</a> o app Renfe. Buscar tarifas Promo con 60-90 dÃ­as de anticipaciÃ³n.</li>
                <li><strong>Horario sugerido:</strong> 2 may Â· salida 09:00 Â· llegada 11:30 (permite check-in a las 14:00).</li>
                <li><strong>Notas:</strong> Presentarse 30 min antes, billete QR y pasaporte.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">2-3 may</span>
                <strong>Barcelona Â· 2 dÃ­as</strong>
              </div>
              <span class="summary-note">Vuelo BCN â†’ ParÃ­s (4 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte:</strong> Vuelo BCN â†’ CDG/ORY (1h45) con Vueling, Air France o Ryanair.</li>
                <li><strong>Compra:</strong> Webs oficiales o <a href="https://www.google.com/travel/flights" target="_blank" rel="noreferrer">Google Flights</a>/Skyscanner. AÃ±adir equipaje facturado si es necesario.</li>
                <li><strong>Horario sugerido:</strong> 4 may Â· check-in 07:00 Â· salida 09:30 Â· llegada 11:15.</li>
                <li><strong>Notas:</strong> Desde CDG podÃ©s tomar TGV directo a Marne-la-VallÃ©e o RER B + RER A para llegar a Disneyland.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">4-6 may</span>
                <strong>ParÃ­s Â· 3 dÃ­as</strong>
              </div>
              <span class="summary-note">Disneyland (DÃ­a 1), luego ParÃ­s ciudad. Vuelo ParÃ­s â†’ MilÃ¡n (7 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>DÃ­a 1 (4 may):</strong> Disneyland Paris (primer dÃ­a en Francia) - RER A desde ParÃ­s (40 min, â‚¬7-10) o traslado directo desde Barcelona.</li>
                <li><strong>DÃ­a 2 (5 may):</strong> Torre Eiffel, Campos ElÃ­seos, Arco del Triunfo.</li>
                <li><strong>DÃ­a 3 (6 may):</strong> Louvre, Notre-Dame, Montmartre, SacrÃ©-CÅ“ur.</li>
                <li><strong>Transporte salida:</strong> Vuelo CDG/ORY â†’ MXP (1h30).</li>
                <li><strong>Compra:</strong> easyJet, Vueling, Air France o ITA Airways; reservar 2 meses antes para mejores tarifas.</li>
                <li><strong>Horario sugerido:</strong> 7 may Â· salida 08:00 Â· llegada 09:30. Malpensa Express hasta Milano Centrale (50 min).</li>
                <li><strong>Notas:</strong> Descargar tarjeta de embarque en el mÃ³vil; considerar equipaje cabina + mochila.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">7 may</span>
                <strong>MilÃ¡n & Lago de Como Â· 1 dÃ­a</strong>
              </div>
              <span class="summary-note">Tren MilÃ¡n â†’ Venecia (8 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte:</strong> Frecciarossa o Italo Â· Milano Centrale â†’ Venezia Santa Lucia (2h30).</li>
                <li><strong>Compra:</strong> <a href="https://www.trenitalia.com" target="_blank" rel="noreferrer">trenitalia.com</a>, <a href="https://www.italotreno.it" target="_blank" rel="noreferrer">italotreno.it</a> o Trainline (30-45 dÃ­as antes).</li>
                <li><strong>Horario sugerido:</strong> 8 may Â· salida 09:45 Â· llegada 12:15.</li>
                <li><strong>Notas:</strong> Asiento numerado incluido; llegar 15 min antes a la plataforma.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">8-9 may</span>
                <strong>Venecia Â· 2 dÃ­as</strong>
              </div>
              <span class="summary-note">Tren Venecia â†’ Florencia (10 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte:</strong> Frecciarossa/Italo Â· Venezia SL â†’ Firenze SMN (2h15).</li>
                <li><strong>Compra:</strong> Trenitalia/Italo o <a href="https://www.thetrainline.com/es" target="_blank" rel="noreferrer">Trainline</a>; hay tarifas Super Economy desde â‚¬19.</li>
                <li><strong>Horario sugerido:</strong> 10 may Â· salida 10:05 Â· llegada 12:20.</li>
                <li><strong>Notas:</strong> Subir con cÃ³digo QR; guardar ticket para mostrar al revisor.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">10-11 may</span>
                <strong>Florencia Â· 2 dÃ­as</strong>
              </div>
              <span class="summary-note">Base para excursiÃ³n a Toscana</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte (excursiÃ³n):</strong> Tour Siena + Pisa (Walkabout, Civitatis) o tren Firenze â†’ Pisa (1h) + bus a Siena (1h15).</li>
                <li><strong>Compra:</strong> Reservar tour con 1 mes de anticipaciÃ³n o adquirir billetes regionales en trenitalia.com (no requieren asiento).</li>
                <li><strong>Horario sugerido:</strong> 12 may Â· tour 08:00-19:30 con salida desde Via Curtatone.</li>
                <li><strong>Notas:</strong> Si lo hacen por cuenta, validar billete antes de subir al regional.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">12 may</span>
                <strong>Toscana Â· 1 dÃ­a</strong>
              </div>
              <span class="summary-note">Tren Florencia â†’ La Spezia (13 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte:</strong> Regional rÃ¡pido Firenze SMN â†’ La Spezia Centrale (2h10) con parada en Pisa.</li>
                <li><strong>Compra:</strong> Trenitalia (billete regional â‚¬20-30). No hay asientos numerados; validar antes de subir.</li>
                <li><strong>Horario sugerido:</strong> 13 may Â· salida 08:10 Â· llegada 10:20 para aprovechar Cinque Terre.</li>
                <li><strong>Notas:</strong> Desde La Spezia activar la Cinque Terre Card para los trenes locales.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">13-14 may</span>
                <strong>Cinque Terre Â· 2 dÃ­as</strong>
              </div>
              <span class="summary-note">Tren La Spezia â†’ Roma (15 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte:</strong> Frecciargento/Intercity Â· La Spezia â†’ Roma Termini (3h50, vÃ­a Pisa/Firenze).</li>
                <li><strong>Compra:</strong> Trenitalia o Italo (buscar combinaciones) desde â‚¬35 comprando con 45 dÃ­as.</li>
                <li><strong>Horario sugerido:</strong> 15 may Â· salida 08:30 Â· llegada 12:20.</li>
                <li><strong>Notas:</strong> Llevar snacks; no todos los trenes tienen coche bar.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">15-17 may</span>
                <strong>Roma Â· 3 dÃ­as</strong>
              </div>
              <span class="summary-note">Tren Roma â†’ Costa Amalfitana (18 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>Transporte:</strong> Frecciarossa Â· Roma Termini â†’ Napoli Centrale (1h10).</li>
                <li><strong>Compra:</strong> Trenitalia/Italo (desde â‚¬15). Reservar con 30 dÃ­as para asegurar horarios matutinos.</li>
                <li><strong>Horario sugerido:</strong> 18 may Â· salida Roma 08:00 Â· llegada NÃ¡poles 09:10 Â· tren a Sorrento 09:30 Â· bus a Positano 10:30 Â· llegada Positano 11:30.</li>
                <li><strong>Alternativa:</strong> Transfer privado NÃ¡poles â†’ Positano (mÃ¡s rÃ¡pido, ~â‚¬80-120, 1h 30min).</li>
                <li><strong>Notas:</strong> Aprovechar para comprar snacks napolitanos antes de tomar la Circumvesuviana.</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">18-24 may</span>
                <strong>Costa Amalfitana + NÃ¡poles</strong>
              </div>
              <span class="summary-note">âœ… Vuelo NÃ¡poles â†’ Madrid (24 may 06:05h - CONFIRMADO)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>18 mayo:</strong> Traslado desde Roma (tren a NÃ¡poles + bus a Positano), llegada a Positano, playa y paseo panorÃ¡mico</li>
                <li><strong>19 mayo:</strong> Positano, exploraciÃ³n completa</li>
                <li><strong>20 mayo:</strong> Amalfi, Ravello y Villa Cimbrone</li>
                <li><strong>21 mayo:</strong> Sorrento + âœ… ExcursiÃ³n a Capri (ferry desde Sorrento, 20-30 min)</li>
                <li><strong>21 mayo noche:</strong> Traslado Sorrento â†’ NÃ¡poles (tren Circumvesuviana 1h, ~â‚¬5-10) y dormir en NÃ¡poles</li>
                <li><strong>22-23 mayo:</strong> DÃ­as en NÃ¡poles para explorar la ciudad</li>
                <li><strong>24 mayo:</strong> âœ… Vuelo 06:05h NAP â†’ 08:50h MAD (directo, 2h 45min, â‚¬91.77)</li>
                <li><strong>Transporte 18 mayo:</strong> Tren Roma â†’ NÃ¡poles (1h 10min) + Tren Circumvesuviana NÃ¡poles â†’ Sorrento (1h 15min) + Bus SITA Sorrento â†’ Positano (1h) o transfer privado (mÃ¡s rÃ¡pido, ~â‚¬80-120)</li>
                <li><strong>Alojamiento:</strong> Positano (18-19 may), Amalfi (20 may), Sorrento (21 may), NÃ¡poles (21-23 may, cerca del aeropuerto)</li>
                <li><strong>Notas:</strong> Llegar al aeropuerto de NÃ¡poles con 2 horas de anticipaciÃ³n (04:00-04:30h). Transfer desde hotel al aeropuerto (30-45 min, ~â‚¬30-50).</li>
              </ul>
            </div>
          </details>

          <details class="accordion-item">
            <summary>
              <div class="summary-meta">
                <span class="tag">24-25 may</span>
                <strong>Madrid final Â· 2 dÃ­as + regreso</strong>
              </div>
              <span class="summary-note">âœ… Llegada 24 may 08:50h, vuelo Madrid â†’ Uruguay (25 may)</span>
            </summary>
            <div class="accordion-body">
              <ul>
                <li><strong>24 mayo:</strong> Llegada temprano a Madrid (08:50h) desde NÃ¡poles. DÃ­a libre para descansar y comenzar compras.</li>
                <li><strong>25 mayo:</strong> âœ… Vuelo largo recorrido MAD â†’ MVD (11:50h salida, confirmado). Compras finales, tax free y packing.</li>
                <li><strong>Compra:</strong> Ya emitido. Revisar localizador 48 h antes para confirmar asientos.</li>
                <li><strong>Horario sugerido:</strong> Check-in 25 may 08:50h Â· embarque 11:20h Â· salida 11:50h (IB0169).</li>
                <li><strong>Notas:</strong> Llegar al aeropuerto con 3 h de anticipaciÃ³n. Usar el dÃ­a 24 may para compras, tax free y packing.</li>
              </ul>
            </div>
          </details>
        </div>
      </section>

      <section id="reservas">
        <h2>Reservas Prioritarias (2-3 meses antes)</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Entradas clave</strong></p>
            <ul>
              <li>Sagrada Familia</li>
              <li>Torre Eiffel</li>
              <li>Disneyland Paris (alta prioridad)</li>
              <li>Louvre</li>
              <li>Coliseo</li>
              <li>Vaticano</li>
              <li>Uffizi</li>
              <li>Duomo de MilÃ¡n</li>
              <li>Cinque Terre Card (2 dÃ­as)</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>LogÃ­stica</strong></p>
            <ul>
              <li>Trenes de alta velocidad en Italia</li>
              <li>Alojamiento en Cinque Terre</li>
              <li>Alojamiento en Costa Amalfitana</li>
              <li>Vuelos internos ParÃ­s â‡„ Italia y Italia â‡„ Madrid</li>
              <li>Seguro de viaje con cobertura â‚¬30,000+</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="costos">
        <h2>Costos Clave</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Transporte entre ciudades</strong></p>
            <ul>
              <li>Madrid â†’ Barcelona (AVE): â‚¬60-100</li>
              <li>Barcelona â†’ ParÃ­s (vuelo): â‚¬50-120</li>
              <li>ParÃ­s â†’ MilÃ¡n (vuelo): â‚¬40-100</li>
              <li>Trenes Italia + Cinque Terre: â‚¬150-250</li>
              <li>Italia â†’ Madrid (vuelo): â‚¬50-150</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Presupuesto por categorÃ­a</strong></p>
            <ul>
              <li>Alojamiento (25 noches Ã— â‚¬50-80): â‚¬1,250-2,000</li>
              <li>Comida (25 Ã— â‚¬30): â‚¬600-1,000</li>
              <li>Actividades: â‚¬404-714</li>
              <li>Internet/datos: â‚¬20-100</li>
              <li>Extras y compras: â‚¬300-600</li>
            </ul>
          </div>
        </div>
        <div class="highlight">
          Total estimado sin vuelo internacional: <strong>â‚¬3,104 - â‚¬5,282</strong> por
          persona.
        </div>
      </section>

      <section id="transporte">
        <h2>Transporte Detallado</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Tramos principales</strong></p>
            <ul>
              <li>Madrid â†’ Barcelona Â· AVE Â· 2h30 Â· â‚¬60-100 Â· Renfe</li>
              <li>Barcelona â†’ ParÃ­s Â· Vuelo 1h45 Â· â‚¬50-120 Â· Vueling/Ryanair/Air France</li>
              <li>ParÃ­s â†’ Italia Â· Vuelo 2h Â· â‚¬40-100 (Roma o MilÃ¡n)</li>
              <li>âœ… NÃ¡poles â†’ Madrid Â· Vuelo 24 may 06:05h NAP â†’ 08:50h MAD (directo, 2h 45min, â‚¬91.77) - CONFIRMADO</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Trenes en Italia</strong></p>
            <ul>
              <li>Operadores: Italo Treno, Trenitalia Frecciarossa</li>
              <li>MilÃ¡n â†’ Venecia: 2h30 Â· â‚¬25-45</li>
              <li>Venecia â†’ Florencia: 2h15 Â· â‚¬25-45</li>
              <li>Florencia â†’ La Spezia (Cinque Terre): 2h-2h30 Â· â‚¬20-35</li>
              <li>Cinque Terre â†’ Roma: 3h-4h Â· â‚¬30-50</li>
              <li>Roma â†’ Costa Amalfitana: Tren a NÃ¡poles (1h10) + tren/bus a Positano (2h) Â· â‚¬20-40 total</li>
            </ul>
          </div>
        </div>
        <div class="grid deux">
          <div class="card">
            <p><strong>Autobuses & Ferries</strong></p>
            <ul>
              <li>FlixBus como opciÃ³n econÃ³mica (mÃ¡s lento)</li>
              <li>Ferries en Lago de Como y Cinque Terre (â‚¬5-15)</li>
              <li>âœ… Ferry a Capri (21 may confirmado) Â· Desde Sorrento Â· â‚¬20-35 ida y vuelta (20-30 min, mÃ¡s rÃ¡pido)</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Costa Amalfitana</strong></p>
            <ul>
              <li>NÃ¡poles â†’ Sorrento en tren: 1h15 Â· â‚¬5-10</li>
              <li>Buses SITA entre pueblos: â‚¬2-5</li>
              <li>Base recomendada: Positano (19 may), Amalfi (20 may), Sorrento (21 may)</li>
              <li>âœ… Sorrento â†’ NÃ¡poles (21 mayo noche): Tren Circumvesuviana 1h, ~â‚¬5-10</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="alojamiento">
        <h2>Alojamiento Recomendado (â‚¬/noche, habitaciÃ³n doble)</h2>
        <table>
          <thead>
            <tr>
              <th>Ciudad</th>
              <th>EconÃ³mico</th>
              <th>Medio</th>
              <th>Lujo</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Madrid</td><td>40-60</td><td>60-100</td><td>100+</td></tr>
            <tr><td>Barcelona</td><td>50-70</td><td>70-120</td><td>120+</td></tr>
            <tr><td>ParÃ­s</td><td>60-80</td><td>80-150</td><td>150+</td></tr>
            <tr><td>Disneyland Paris</td><td>150-250</td><td>250-400</td><td>400-1,200+</td></tr>
            <tr><td>MilÃ¡n</td><td>50-70</td><td>70-120</td><td>120+</td></tr>
            <tr><td>Venecia</td><td>60-90</td><td>90-150</td><td>150+</td></tr>
            <tr><td>Florencia</td><td>50-70</td><td>70-120</td><td>120+</td></tr>
            <tr><td>Cinque Terre</td><td>60-100</td><td>100-180</td><td>180+</td></tr>
            <tr><td>Roma</td><td>50-70</td><td>70-120</td><td>120+</td></tr>
            <tr><td>NÃ¡poles</td><td>40-60</td><td>60-100</td><td>100+</td></tr>
            <tr><td>Costa Amalfitana</td><td>80-120</td><td>120-200</td><td>200+</td></tr>
          </tbody>
        </table>
        <div class="highlight">
          Plataformas recomendadas: Booking, Airbnb, Hostelworld, Hotels.com. Reservar
          Costa Amalfitana y Cinque Terre con mucha anticipaciÃ³n.
        </div>
      </section>

      <section id="hoteles-madrid">
        <h2>ğŸ¨ Mejores Ofertas de Hoteles en Madrid (30 abr-1 may, 24-25 may)</h2>
        <p style="margin-bottom: 1.5rem; color: var(--muted);">Hoteles recomendados con precios inferiores a US$250/noche (â‚¬230/noche) con buenas calificaciones y ubicaciÃ³n cÃ©ntrica.</p>
        
        <div class="grid deux">
          <div class="card">
            <p><strong>â­ Hoteles 4 Estrellas Recomendados</strong></p>
            <ul>
              <li><strong>Hotel Praga</strong> Â· ~â‚¬120/noche Â· Bien ubicado, habitaciones cÃ³modas</li>
              <li><strong>Hotel Emperador</strong> Â· ~â‚¬135/noche Â· Gran VÃ­a, excelente ubicaciÃ³n</li>
              <li><strong>Catalonia Gran VÃ­a</strong> Â· ~â‚¬135/noche Â· Centro histÃ³rico, muy bien valorado</li>
              <li><strong>Hotel Puerta de Toledo</strong> Â· ~â‚¬120/noche Â· Cerca del centro histÃ³rico</li>
              <li><strong>Hotel Riu Plaza EspaÃ±a</strong> Â· ~â‚¬155/noche Â· Gran VÃ­a, piscina, gimnasio</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>â­ Hoteles 3 Estrellas (MÃ¡s EconÃ³micos)</strong></p>
            <ul>
              <li><strong>Hotel Nido PrÃ­ncipe PÃ­o</strong> Â· ~â‚¬80/noche Â· Excelente ubicaciÃ³n y valoraciones</li>
              <li><strong>Hotel Florida Norte</strong> Â· ~â‚¬90/noche Â· CÃ©ntrico y econÃ³mico</li>
              <li><strong>SLEEP'N Atocha</strong> Â· ~â‚¬85/noche Â· Cerca del Prado y Reina SofÃ­a</li>
              <li><strong>Spark By Hilton Madrid AlcalÃ¡</strong> Â· ~â‚¬125/noche Â· Con descuentos del 15%</li>
              <li><strong>Ok Hostel Madrid</strong> Â· Habitaciones privadas Â· Cerca de Plaza Mayor</li>
            </ul>
          </div>
        </div>

        <div class="grid deux" style="margin-top: 1.5rem;">
          <div class="card">
            <p><strong>ğŸ CÃ³digos Promocionales y Estrategias de Ahorro</strong></p>
            <p><strong>Plataformas de Reserva:</strong></p>
            <ul>
              <li><strong>Booking.com:</strong> Programa Genius (descuentos hasta 20%) - Registrarse gratis</li>
              <li><strong>Hotels.com:</strong> Programa Rewards (1 noche gratis cada 10 noches)</li>
              <li><strong>Expedia:</strong> CÃ³digos promocionales hasta 40% (verificar en ahorren.es)</li>
              <li><strong>Radisson Hotels:</strong> Hasta 35% descuento para miembros (registro gratuito)</li>
              <li><strong>NH Hotels:</strong> Descuentos hasta 45% en Black Friday (noviembre)</li>
            </ul>
            <p><strong>Reservas Directas:</strong></p>
            <ul>
              <li>Muchos hoteles ofrecen "Mejor precio garantizado" reservando directo</li>
              <li>Descuentos adicionales del 10-15% en web oficial vs. plataformas</li>
              <li>Beneficios exclusivos: desayuno gratis, upgrade de habitaciÃ³n</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>ğŸ’¡ Tips para Ahorrar MÃ¡s</strong></p>
            <ul>
              <li><strong>Reservar con 2-3 meses de anticipaciÃ³n:</strong> Mejores precios y disponibilidad</li>
              <li><strong>Suscribirse a newsletters:</strong> Ofertas exclusivas y cÃ³digos promocionales</li>
              <li><strong>Programas de fidelizaciÃ³n:</strong> Radisson Rewards, Marriott Bonvoy, Hilton Honors (gratis)</li>
              <li><strong>Comparar precios:</strong> Usar Google Hotels, Trivago, Kayak antes de reservar</li>
              <li><strong>Flexibilidad de fechas:</strong> Verificar si cambiar 1-2 dÃ­as reduce el precio</li>
              <li><strong>Reservas no reembolsables:</strong> Hasta 20% mÃ¡s baratas (solo si estÃ¡s seguro)</li>
              <li><strong>Estancias de 3+ noches:</strong> Algunos hoteles ofrecen 5-15% descuento</li>
            </ul>
          </div>
        </div>

        <div class="grid deux" style="margin-top: 1.5rem;">
          <div class="card">
            <p><strong>ğŸ“ Ubicaciones Recomendadas</strong></p>
            <ul>
              <li><strong>Gran VÃ­a / Sol:</strong> Centro neurÃ¡lgico, todo caminando, precios medios-altos</li>
              <li><strong>Barrio de las Letras / Huertas:</strong> CÃ©ntrico, ambiente autÃ©ntico, precios medios</li>
              <li><strong>La Latina:</strong> Cerca del centro, ambiente local, precios mÃ¡s econÃ³micos</li>
              <li><strong>ChamberÃ­ / MalasaÃ±a:</strong> Bien conectado por metro, precios medios</li>
              <li><strong>PrÃ­ncipe PÃ­o / Atocha:</strong> Cerca de estaciones de tren, precios econÃ³micos</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>ğŸ” DÃ³nde Buscar y Comparar</strong></p>
            <ul>
              <li><a href="https://www.booking.com" target="_blank" rel="noreferrer">Booking.com</a> - Mejor para comparar y reviews</li>
              <li><a href="https://www.google.com/travel/hotels" target="_blank" rel="noreferrer">Google Hotels</a> - Comparador rÃ¡pido</li>
              <li><a href="https://www.trivago.es" target="_blank" rel="noreferrer">Trivago</a> - Compara mÃºltiples plataformas</li>
              <li><a href="https://www.airbnb.es" target="_blank" rel="noreferrer">Airbnb</a> - Apartamentos con cocina (mÃ¡s econÃ³mico para estancias largas)</li>
              <li><a href="https://www.hotels.com" target="_blank" rel="noreferrer">Hotels.com</a> - Programa Rewards</li>
              <li><a href="https://www.tripadvisor.es" target="_blank" rel="noreferrer">TripAdvisor</a> - Reviews y comparaciÃ³n de precios</li>
            </ul>
          </div>
        </div>

        <div class="highlight" style="margin-top: 1.5rem;">
          <strong>âš ï¸ Importante para tus fechas:</strong><br />
          â€¢ <strong>30 abr - 1 may:</strong> 1 de mayo es DÃ­a del Trabajador (festivo) - algunos hoteles pueden tener precios mÃ¡s altos<br />
          â€¢ <strong>24-25 may:</strong> Ãšltimos dÃ­as antes de tu vuelo - ideal para estar cerca del aeropuerto o bien conectado<br />
          â€¢ <strong>RecomendaciÃ³n:</strong> Reservar en febrero-marzo 2026 para mejores precios. Comparar precios entre plataformas y web oficial del hotel antes de confirmar.<br />
          â€¢ <strong>Alternativa econÃ³mica:</strong> Considerar Airbnb en La Latina o MalasaÃ±a para ahorrar en comida (cocina disponible)
        </div>
      </section>

      <section id="agenda">
        <h2>Agenda Diaria con Checklist</h2>
        <p>Marca cada dÃ­a completado. Se guarda automÃ¡ticamente en tu navegador.</p>
        <div class="day-checklist" id="dayChecklist">
          <label class="day-card">
            <input type="checkbox" data-day="1" />
            <div class="day-content">
              <p class="day-title">DÃ­a 1 Â· 30 abr Â· Llegada a Madrid</p>
              <p class="day-subtitle">Check-in, paseo por La Latina, tapas.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="2" />
            <div class="day-content">
              <p class="day-title">DÃ­a 2 Â· 1 may Â· Madrid</p>
              <p class="day-subtitle">Museo Prado, Retiro, Mercado San Miguel.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="3" />
            <div class="day-content">
              <p class="day-title">DÃ­a 3 Â· 2 may Â· Barcelona</p>
              <p class="day-subtitle">Sagrada Familia, paseo por El Born.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="4" />
            <div class="day-content">
              <p class="day-title">DÃ­a 4 Â· 3 may Â· Barcelona</p>
              <p class="day-subtitle">Park GÃ¼ell, Barceloneta, tren nocturno.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="5" />
            <div class="day-content">
              <p class="day-title">DÃ­a 5 Â· 4 may Â· Disneyland Paris</p>
              <p class="day-subtitle">Primer dÃ­a en Francia - Parque completo.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="6" />
            <div class="day-content">
              <p class="day-title">DÃ­a 6 Â· 5 may Â· ParÃ­s</p>
              <p class="day-subtitle">Torre Eiffel, Campos ElÃ­seos, Arco del Triunfo.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="7" />
            <div class="day-content">
              <p class="day-title">DÃ­a 7 Â· 6 may Â· ParÃ­s</p>
              <p class="day-subtitle">Louvre, Notre-Dame, Montmartre, SacrÃ©-CÅ“ur.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="8" />
            <div class="day-content">
              <p class="day-title">DÃ­a 8 Â· 7 may Â· MilÃ¡n & Lago de Como</p>
              <p class="day-subtitle">Duomo, excursiÃ³n en ferry.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="9" />
            <div class="day-content">
              <p class="day-title">DÃ­a 9 Â· 8 may Â· Venecia</p>
              <p class="day-subtitle">Plaza San Marcos, paseo en vaporetto.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="10" />
            <div class="day-content">
              <p class="day-title">DÃ­a 10 Â· 9 may Â· Venecia</p>
              <p class="day-subtitle">Murano/Burano, salida a Florencia.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="11" />
            <div class="day-content">
              <p class="day-title">DÃ­a 11 Â· 10 may Â· Florencia</p>
              <p class="day-subtitle">Duomo, Ponte Vecchio, gelato.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="12" />
            <div class="day-content">
              <p class="day-title">DÃ­a 12 Â· 11 may Â· Florencia</p>
              <p class="day-subtitle">GalerÃ­a Uffizi, atardecer en Piazzale.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="13" />
            <div class="day-content">
              <p class="day-title">DÃ­a 13 Â· 12 may Â· Toscana</p>
              <p class="day-subtitle">Siena + Pisa (tour o tren).</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="14" />
            <div class="day-content">
              <p class="day-title">DÃ­a 14 Â· 13 may Â· Cinque Terre</p>
              <p class="day-subtitle">Monterosso, Vernazza, senderos.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="15" />
            <div class="day-content">
              <p class="day-title">DÃ­a 15 Â· 14 may Â· Cinque Terre</p>
              <p class="day-subtitle">Manarola, Riomaggiore, tren a Roma.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="16" />
            <div class="day-content">
              <p class="day-title">DÃ­a 16 Â· 15 may Â· Roma</p>
              <p class="day-subtitle">Coliseo, Foro, Fontana di Trevi.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="17" />
            <div class="day-content">
              <p class="day-title">DÃ­a 17 Â· 16 may Â· Roma</p>
              <p class="day-subtitle">Vaticano, Museos, Trastevere.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="18" />
            <div class="day-content">
              <p class="day-title">DÃ­a 18 Â· 17 may Â· Roma</p>
              <p class="day-subtitle">GalerÃ­a Borghese, compras, aperitivo.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="19" />
            <div class="day-content">
              <p class="day-title">DÃ­a 19 Â· 18 may Â· Costa Amalfitana</p>
              <p class="day-subtitle">Traslado desde Roma, llegada a Positano, playas y paseo panorÃ¡mico.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="20" />
            <div class="day-content">
              <p class="day-title">DÃ­a 20 Â· 19 may Â· Costa Amalfitana</p>
              <p class="day-subtitle">Positano, exploraciÃ³n completa.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="21" />
            <div class="day-content">
              <p class="day-title">DÃ­a 21 Â· 20 may Â· Costa Amalfitana</p>
              <p class="day-subtitle">Amalfi, Ravello y Villa Cimbrone.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="22" />
            <div class="day-content">
              <p class="day-title">DÃ­a 22 Â· 21 may Â· Sorrento/Capri</p>
              <p class="day-subtitle">Sorrento + âœ… ExcursiÃ³n a Capri (ferry desde Sorrento, 20-30 min).</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="23" />
            <div class="day-content">
              <p class="day-title">Noche 21 may Â· NÃ¡poles</p>
              <p class="day-subtitle">Traslado Sorrento â†’ NÃ¡poles, dormir cerca del aeropuerto.</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="24" />
            <div class="day-content">
              <p class="day-title">DÃ­a 24 Â· 24 may Â· NÃ¡poles/Madrid</p>
              <p class="day-subtitle">âœ… Vuelo 06:05h NAP â†’ 08:50h MAD (directo, 2h 45min, â‚¬91.77).</p>
            </div>
          </label>
          <label class="day-card">
            <input type="checkbox" data-day="25" />
            <div class="day-content">
              <p class="day-title">DÃ­a 25 Â· 25 may Â· Vuelo a Uruguay</p>
              <p class="day-subtitle">Check-out, traslado al aeropuerto y regreso a casa.</p>
            </div>
          </label>
        </div>
        <button class="reset-btn" id="resetChecklist">Reiniciar checklist</button>
      </section>

      <section id="mapa">
        <h2>Mapa Interactivo del Recorrido</h2>
        <p>
          SeleccionÃ¡ un dÃ­a en la agenda o usa la barra de tiempo debajo del mapa para ver dÃ³nde estarÃ¡n y cÃ³mo progresa el
          recorrido completo por Europa.
        </p>
        <div id="travelMap"></div>
        <div class="timeline-slider-container">
          <div class="timeline-slider-wrapper">
            <div class="timeline-slider-track">
              <div class="timeline-slider-progress" id="timelineSliderProgress"></div>
              <input
                type="range"
                min="1"
                max="25"
                value="1"
                class="timeline-slider"
                id="timelineSlider"
              />
            </div>
            <div class="timeline-labels">
              <span class="timeline-label">30 abr</span>
              <span class="timeline-label">5 may</span>
              <span class="timeline-label">10 may</span>
              <span class="timeline-label">15 may</span>
              <span class="timeline-label">20 may</span>
              <span class="timeline-label">25 may</span>
            </div>
          </div>
          <div class="timeline-current-day" id="timelineCurrentDay">
            DÃ­a 1 Â· 30 abr Â· Madrid
          </div>
          <div style="margin-top: 1rem; padding: 1rem; background: #fff7ec; border-radius: 12px; border-left: 4px solid #ff8a3d; font-size: 0.9rem;">
            <strong>âœ… Vuelos confirmados:</strong><br />
            â€¢ Ida: 29 abr 21:45h MVD â†’ 30 abr 14:35h MAD (IB0170)<br />
            â€¢ NÃ¡poles-Madrid: 24 may 06:05h NAP â†’ 08:50h MAD (â‚¬91.77)<br />
            â€¢ Regreso: 25 may 11:50h MAD â†’ 19:45h MVD (IB0169)
          </div>
        </div>
      </section>

      <section id="capri">
        <h2>âœ… Capri - ExcursiÃ³n Confirmada (21 de mayo)</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Ferries a Capri</strong></p>
            <ul>
              <li><strong>Desde Positano:</strong> 30-40 min Â· â‚¬20-30 ida y vuelta Â· Salidas desde 8:00 AM</li>
              <li><strong>Desde Amalfi:</strong> 50-60 min Â· â‚¬18-28 ida y vuelta Â· Salidas desde 8:30 AM</li>
              <li><strong>Desde Sorrento:</strong> 20-30 min Â· â‚¬20-35 ida y vuelta Â· MÃ¡s rÃ¡pido</li>
              <li><strong>Operadores:</strong> Travelmar, NLG, Alilauro, Caremar</li>
            </ul>
            <p><strong>RecomendaciÃ³n:</strong> Salir temprano (8:00-9:00 AM) desde Sorrento (estarÃ¡s allÃ­ el 21 mayo). Regresar antes de las 18:00-19:00 para trasladarse a NÃ¡poles. Reservar con 1-2 semanas de anticipaciÃ³n.</p>
          </div>
          <div class="card">
            <p><strong>QuÃ© hacer en Capri</strong></p>
            <ul>
              <li>Grotta Azzurra (Gruta Azul) Â· â‚¬14-18 + propina</li>
              <li>Monte Solaro (telefÃ©rico) Â· â‚¬12 ida y vuelta Â· Vistas 360Â°</li>
              <li>Piazzetta y calles comerciales</li>
              <li>Villa San Michele (Anacapri)</li>
              <li>Jardines de Augusto Â· Faraglioni</li>
              <li>Playa Marina Piccola</li>
            </ul>
            <p><strong>Presupuesto:</strong> â‚¬80-118 por persona (ferry + transporte + actividades + comida)</p>
          </div>
        </div>
        <div class="highlight">
          <strong>Webs para reservar:</strong> travelmar.it, navlib.it, alilauro.it, caremar.it Â· 
          <strong>Consejo:</strong> Comprar ida y vuelta juntas es mÃ¡s econÃ³mico. Llegar temprano para evitar multitudes en la Grotta Azzurra.
        </div>
      </section>

      <section id="disney">
        <h2>Disneyland Paris Â· Â¿DÃ³nde alojarse?</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Hoteles Disney (mayo, temporada media-alta)</strong></p>
            <ul>
              <li>Value (Cheyenne/Santa Fe): â‚¬200-300/noche</li>
              <li>Moderados (Sequoia/Newport): â‚¬300-450/noche</li>
              <li>Deluxe (Disneyland Hotel, Art of Marvel): â‚¬600-1,200+/noche</li>
            </ul>
            <p><strong>Ventajas:</strong> Acceso anticipado, ambientaciÃ³n total, shuttle gratuito.</p>
            <p><strong>Desventajas:</strong> Precio alto, lejos del centro de ParÃ­s.</p>
          </div>
          <div class="card">
            <p><strong>RecomendaciÃ³n para este viaje</strong></p>
            <ul>
              <li><strong>OpciÃ³n 1 (ideal):</strong> Hospedarse en ParÃ­s (â‚¬60-150) y tomar RER A (40 min, â‚¬7-10)</li>
              <li>OpciÃ³n 2: 1 noche en hotel Disney Value para experiencia completa</li>
              <li>OpciÃ³n 3: Hoteles cercanos (Marne-la-VallÃ©e, Torcy) â‚¬80-120</li>
            </ul>
            <p>Salir 7:00-7:30 AM para llegar al parque antes de las 9:00 sin Extra Magic Time.</p>
          </div>
        </div>
      </section>

      <section id="actividades">
        <h2>Entradas y Excursiones Clave</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Reservas obligatorias</strong></p>
            <ul>
              <li>Sagrada Familia Â· â‚¬26-30 Â· 2-3 meses antes</li>
              <li>Louvre Â· â‚¬17 Â· 1-2 meses</li>
              <li>Torre Eiffel Â· â‚¬10-26 Â· 2-3 meses</li>
              <li>Disneyland Paris Â· â‚¬56-149 Â· 2-3 meses</li>
              <li>Coliseo Â· â‚¬16-22 Â· 2-3 meses</li>
              <li>Vaticano Â· â‚¬17-21 Â· 1-2 meses</li>
              <li>Uffizi Â· â‚¬12-20 Â· 1-2 meses</li>
              <li>Duomo MilÃ¡n Â· â‚¬16 Â· 1 mes</li>
              <li>Cinque Terre Card Â· â‚¬18-35 Â· al llegar</li>
              <li>âœ… Ferry a Capri (21 may - CONFIRMADO) Â· â‚¬20-30 Â· reservar 1-2 semanas antes</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Excursiones destacadas</strong></p>
            <ul>
              <li>Lago de Como desde MilÃ¡n Â· Tren 1h Â· Ferry â‚¬5-15</li>
              <li>Toscana (Siena + Pisa) Â· Tour â‚¬60-100 o transporte pÃºblico</li>
              <li>Cinque Terre Â· 5 pueblos Â· 2 dÃ­as recomendados</li>
              <li>Costa Amalfitana Â· Positano (19 may), Amalfi/Ravello (20 may), Sorrento + âœ… Capri (21 may confirmado)</li>
            </ul>
            <p>Comprar con anticipaciÃ³n reduce costos hasta 70% en trenes y entradas.</p>
          </div>
        </div>
      </section>

      <section id="eventos">
        <h2>Eventos Deportivos & Musicales</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Partidos de FÃºtbol - Mayo 2026</strong></p>
            <p><strong>Madrid (30 abr - 1 may, 24-25 may):</strong></p>
            <ul>
              <li>Real Madrid: Consultar calendario en <a href="https://www.realmadrid.com" target="_blank" rel="noreferrer">realmadrid.com</a></li>
              <li>Atletico Madrid: Consultar en <a href="https://www.atleticodemadrid.com" target="_blank" rel="noreferrer">atleticodemadrid.com</a></li>
              <li>En mayo suelen jugarse las Ãºltimas jornadas de La Liga o finales de Champions League</li>
            </ul>
            <p><strong>Barcelona (2-3 may):</strong></p>
            <ul>
              <li>FC Barcelona: Consultar en <a href="https://www.fcbarcelona.com" target="_blank" rel="noreferrer">fcbarcelona.com</a></li>
              <li>Espanyol: Consultar calendario oficial</li>
            </ul>
            <p><strong>ParÃ­s (4-6 may):</strong></p>
            <ul>
              <li>Paris Saint-Germain: Consultar en <a href="https://www.psg.fr" target="_blank" rel="noreferrer">psg.fr</a></li>
              <li>Ligue 1 suele terminar a mediados de mayo</li>
            </ul>
            <p><strong>MilÃ¡n (7 may):</strong></p>
            <ul>
              <li>AC Milan: <a href="https://www.acmilan.com" target="_blank" rel="noreferrer">acmilan.com</a></li>
              <li>Inter de MilÃ¡n: <a href="https://www.inter.it" target="_blank" rel="noreferrer">inter.it</a></li>
            </ul>
            <p><strong>Roma (15-17 may):</strong></p>
            <ul>
              <li>AS Roma: <a href="https://www.asroma.com" target="_blank" rel="noreferrer">asroma.com</a></li>
              <li>Lazio: Consultar calendario oficial</li>
              <li>Serie A suele terminar a finales de mayo</li>
            </ul>
            <p><strong>NÃ¡poles (21-22 may):</strong></p>
            <ul>
              <li>SSC Napoli: <a href="https://www.sscnapoli.it" target="_blank" rel="noreferrer">sscnapoli.it</a></li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Conciertos y Recitales - Mayo 2026</strong></p>
            <p><strong>Giras confirmadas para 2026:</strong></p>
            <ul>
              <li><strong>Bad Bunny - "DebÃ­ Tirar MÃ¡s Fotos World Tour"</strong>: Gira hasta julio 2026 en Europa. Consultar fechas especÃ­ficas en <a href="https://www.badbunnypr.com" target="_blank" rel="noreferrer">badbunnypr.com</a></li>
              <li>Verificar fechas en Madrid, Barcelona, ParÃ­s, MilÃ¡n o Roma</li>
            </ul>
            <p><strong>DÃ³nde buscar conciertos:</strong></p>
            <ul>
              <li><strong>Madrid:</strong> WiZink Center, Estadio Wanda Metropolitano, Teatro Real</li>
              <li><strong>Barcelona:</strong> Palau Sant Jordi, Razzmatazz, Sala Apolo</li>
              <li><strong>ParÃ­s:</strong> Accor Arena, Olympia, ZÃ©nith de Paris</li>
              <li><strong>MilÃ¡n:</strong> Mediolanum Forum, San Siro (conciertos), Teatro alla Scala</li>
              <li><strong>Roma:</strong> Stadio Olimpico, Auditorium Parco della Musica, Palalottomatica</li>
            </ul>
            <p><strong>Plataformas para consultar:</strong></p>
            <ul>
              <li><a href="https://www.ticketmaster.es" target="_blank" rel="noreferrer">Ticketmaster EspaÃ±a</a></li>
              <li><a href="https://www.ticketmaster.fr" target="_blank" rel="noreferrer">Ticketmaster Francia</a></li>
              <li><a href="https://www.ticketone.it" target="_blank" rel="noreferrer">TicketOne Italia</a></li>
              <li><a href="https://www.songkick.com" target="_blank" rel="noreferrer">Songkick</a> (calendario global)</li>
              <li><a href="https://www.bandsintown.com" target="_blank" rel="noreferrer">Bandsintown</a></li>
            </ul>
          </div>
        </div>
        <div class="highlight">
          <strong>âš ï¸ Importante:</strong> Los calendarios de ligas y conciertos para mayo 2026 aÃºn no estÃ¡n completamente publicados. 
          <strong>RecomendaciÃ³n:</strong> Revisar los sitios oficiales de los equipos y recintos 2-3 meses antes del viaje (febrero-marzo 2026) 
          para verificar fechas exactas y disponibilidad de entradas. En mayo, las ligas europeas suelen estar en sus Ãºltimas jornadas o finales, 
          lo que puede hacer los partidos mÃ¡s emocionantes pero tambiÃ©n mÃ¡s difÃ­ciles de conseguir entradas.
        </div>
        <div class="grid deux" style="margin-top: 1.5rem;">
          <div class="card">
            <p><strong>Tips para conseguir entradas</strong></p>
            <ul>
              <li>Comprar con 2-3 meses de anticipaciÃ³n</li>
              <li>Verificar si hay membresÃ­as o abonos que den prioridad</li>
              <li>Considerar tours del estadio si no hay partidos</li>
              <li>Para conciertos, suscribirse a newsletters de artistas</li>
              <li>Usar apps oficiales de los equipos para notificaciones</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Experiencias alternativas</strong></p>
            <ul>
              <li><strong>Tours de estadios:</strong> Santiago BernabÃ©u (Madrid), Camp Nou (Barcelona), San Siro (MilÃ¡n), Stadio Olimpico (Roma)</li>
              <li><strong>Museos de fÃºtbol:</strong> Museos oficiales de Real Madrid, FC Barcelona, PSG, AC Milan, Inter, AS Roma</li>
              <li><strong>Bares deportivos:</strong> Ver partidos en bares locales con ambiente autÃ©ntico</li>
              <li><strong>Conciertos en vivo:</strong> MÃºsica en vivo en bares y locales de las ciudades</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="comunicacion">
        <h2>ComunicaciÃ³n y Conectividad</h2>
        <div class="grid trois">
          <div class="card">
            <p><strong>Mejor opciÃ³n</strong></p>
            <p>eSIM Holafly Europa Â· USD 47 (~â‚¬42) Â· 30 dÃ­as Â· datos ilimitados.</p>
            <ul>
              <li>Activa antes del viaje</li>
              <li>Funciona en todos los paÃ­ses</li>
              <li>Mantienes la SIM de Antel para WhatsApp</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Alternativas</strong></p>
            <ul>
              <li>eSIM Airalo Â· USD 25-50 Â· 10-30 GB</li>
              <li>Orange Holiday Europe Â· â‚¬39.99 (12 GB/14 dÃ­as)</li>
              <li>SIM fÃ­sica Orange/Vodafone en EspaÃ±a Â· â‚¬20-30 Â· 10-20 GB</li>
              <li>Roaming Antel (5 paquetes) Â· USD 110 Â· 25 GB</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Pasos clave</strong></p>
            <ol>
              <li>Verificar compatibilidad eSIM</li>
              <li>Comprar eSIM y recibir QR</li>
              <li>Activar al llegar a Europa</li>
              <li>Configurar datos mÃ³viles en eSIM</li>
            </ol>
          </div>
        </div>
        <div class="highlight">
          WiFi gratuito en la mayorÃ­a de hoteles, cafÃ©s y espacios pÃºblicos de las
          principales ciudades. Usa cuando sea posible para ahorrar datos.
        </div>
      </section>

      <section id="comida">
        <h2>Comida y Presupuesto Diario</h2>
        <div class="grid deux">
          <div class="card">
            <p><strong>Presupuesto por persona</strong></p>
            <ul>
              <li>EconÃ³mico: â‚¬20-30 (supermercado + comida callejera)</li>
              <li>Medio: â‚¬30-50 (restaurantes locales)</li>
              <li>Alto: â‚¬50+ (restaurantes turÃ­sticos/gourmet)</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Imperdibles por ciudad</strong></p>
            <ul>
              <li>Madrid: Tapas en La Latina, churros San GinÃ©s, Mercado San Miguel</li>
              <li>Barcelona: Tapas El Born, paella Barceloneta, La BoquerÃ­a</li>
              <li>ParÃ­s: CrÃªpes Montmartre, croissants artesanales, bistrÃ³s</li>
              <li>Italia: Pizza napolitana, pasta fresca, gelato, aperitivo en MilÃ¡n</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="documentos">
        <h2>Documentos & Requisitos</h2>
        <div class="grid deux">
          <div class="card">
            <ul>
              <li>Pasaporte vÃ¡lido 6 meses despuÃ©s del regreso</li>
              <li>Seguro de viaje obligatorio (mÃ­nimo â‚¬30,000)</li>
              <li>Reservas de vuelos, trenes y alojamiento</li>
              <li>Tarjetas con chip y PIN</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Backups</strong></p>
            <ul>
              <li>Copias impresas y digitales de documentos</li>
              <li>Guardar en la nube y en el correo</li>
              <li>Registrar nÃºmeros de seguro y asistencia</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="tips">
        <h2>Tips, Apps y Consejos Finales</h2>
        <div class="grid trois">
          <div class="card">
            <p><strong>Tips esenciales</strong></p>
            <ul>
              <li>Comprar trenes/entradas con anticipaciÃ³n (hasta 70% menos)</li>
              <li>Volar martes-miÃ©rcoles para mejores tarifas</li>
              <li>Evitar restaurantes ultra turÃ­sticos</li>
              <li>Cuidado con carteristas en Barcelona, ParÃ­s, Roma</li>
              <li>Revisar horarios (siesta y cierres tempranos)</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Apps recomendadas</strong></p>
            <ul>
              <li>Google Maps (offline) & Citymapper</li>
              <li>Google Translate (idiomas)</li>
              <li>Booking.com Â· Airbnb Â· Hostelworld</li>
              <li>XE Currency & Rick Steves Audio Europe</li>
            </ul>
          </div>
          <div class="card">
            <p><strong>Clima y seguridad</strong></p>
            <ul>
              <li>Primavera: capas ligeras, capa impermeable</li>
              <li>Propinas 5-10% cuando corresponda</li>
              <li>Siempre llevar agua y calzado cÃ³modo</li>
              <li>Guardar documentos en hotel o riÃ±onera oculta</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="contactos">
        <h2>Contactos de Emergencia</h2>
        <div class="grid deux">
          <div class="card">
            <ul>
              <li>Emergencias generales (UE): 112</li>
              <li>Seguro de viaje: aÃ±adir nÃºmero correspondiente</li>
            </ul>
          </div>
          <div class="card">
            <ul>
              <li>Embajada de Uruguay en Madrid: verificar contacto actualizado</li>
              <li>Embajada de Uruguay en Roma: verificar contacto actualizado</li>
              <li>Asistencia consular: coordinar con embajadas en cada paÃ­s</li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <footer>
      Plan elaborado con toda la informaciÃ³n del itinerario Abril-Mayo. Ãšltima
      actualizaciÃ³n: noviembre 2025.
    </footer>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      crossorigin=""
    ></script>
    <script>
      const STORAGE_KEY = "viaje-checklist-v1";

      const savedState = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
      document
        .querySelectorAll('#dayChecklist input[type="checkbox"]')
        .forEach((checkbox) => {
          const day = checkbox.dataset.day;
          checkbox.checked = Boolean(savedState[day]);
          checkbox.addEventListener("change", () => {
            savedState[day] = checkbox.checked;
            localStorage.setItem(STORAGE_KEY, JSON.stringify(savedState));
          });
        });

      document
        .getElementById("resetChecklist")
        .addEventListener("click", () => {
          document
            .querySelectorAll('#dayChecklist input[type="checkbox"]')
            .forEach((checkbox) => {
              checkbox.checked = false;
              const day = checkbox.dataset.day;
              savedState[day] = false;
            });
          localStorage.setItem(STORAGE_KEY, JSON.stringify(savedState));
        });

      const itineraryDays = [
        { day: 1, title: "DÃ­a 1 Â· 30 abr Â· Madrid", cityKey: "madrid", coords: [40.4168, -3.7038], description: "Llegada y paseo por La Latina." },
        { day: 2, title: "DÃ­a 2 Â· 1 may Â· Madrid", cityKey: "madrid", coords: [40.4168, -3.7038], description: "Museo del Prado y Parque del Retiro." },
        { day: 3, title: "DÃ­a 3 Â· 2 may Â· Barcelona", cityKey: "barcelona", coords: [41.3874, 2.1686], description: "Sagrada Familia y El Born." },
        { day: 4, title: "DÃ­a 4 Â· 3 may Â· Barcelona", cityKey: "barcelona", coords: [41.3874, 2.1686], description: "Park GÃ¼ell y Barceloneta." },
        { day: 5, title: "DÃ­a 5 Â· 4 may Â· Disneyland Paris", cityKey: "disney", coords: [48.8674, 2.7834], description: "Primer dÃ­a en Francia - Parques de Disney." },
        { day: 6, title: "DÃ­a 6 Â· 5 may Â· ParÃ­s", cityKey: "paris", coords: [48.8566, 2.3522], description: "Torre Eiffel, Campos ElÃ­seos y Arco del Triunfo." },
        { day: 7, title: "DÃ­a 7 Â· 6 may Â· ParÃ­s", cityKey: "paris", coords: [48.8566, 2.3522], description: "Louvre, Notre-Dame, Montmartre y SacrÃ©-CÅ“ur." },
        { day: 8, title: "DÃ­a 8 Â· 7 may Â· MilÃ¡n & Lago de Como", cityKey: "milan", coords: [45.4642, 9.19], description: "Duomo y excursiÃ³n a Como." },
        { day: 9, title: "DÃ­a 9 Â· 8 may Â· Venecia", cityKey: "venecia", coords: [45.4408, 12.3155], description: "Plaza San Marcos y canales." },
        { day: 10, title: "DÃ­a 10 Â· 9 may Â· Venecia", cityKey: "venecia", coords: [45.4408, 12.3155], description: "Islas de Murano y Burano." },
        { day: 11, title: "DÃ­a 11 Â· 10 may Â· Florencia", cityKey: "florencia", coords: [43.7696, 11.2558], description: "Duomo y Ponte Vecchio." },
        { day: 12, title: "DÃ­a 12 Â· 11 may Â· Florencia", cityKey: "florencia", coords: [43.7696, 11.2558], description: "GalerÃ­a Uffizi y Piazzale." },
        { day: 13, title: "DÃ­a 13 Â· 12 may Â· Toscana", cityKey: "toscana", coords: [43.3189, 11.3308], description: "ExcursiÃ³n Siena + Pisa." },
        { day: 14, title: "DÃ­a 14 Â· 13 may Â· Cinque Terre", cityKey: "cinqueterre", coords: [44.146, 9.643], description: "Monterosso, Vernazza, senderos." },
        { day: 15, title: "DÃ­a 15 Â· 14 may Â· Cinque Terre", cityKey: "cinqueterre", coords: [44.146, 9.643], description: "Manarola, Riomaggiore y tren a Roma." },
        { day: 16, title: "DÃ­a 16 Â· 15 may Â· Roma", cityKey: "roma", coords: [41.9028, 12.4964], description: "Coliseo y Foro Romano." },
        { day: 17, title: "DÃ­a 17 Â· 16 may Â· Roma", cityKey: "roma", coords: [41.9028, 12.4964], description: "Vaticano y Museos." },
        { day: 18, title: "DÃ­a 18 Â· 17 may Â· Roma", cityKey: "roma", coords: [41.9028, 12.4964], description: "Fontana di Trevi y Trastevere." },
        { day: 19, title: "DÃ­a 19 Â· 18 may Â· Costa Amalfitana", cityKey: "positano", coords: [40.6333, 14.602], description: "Traslado desde Roma, llegada a Positano, playas y paseo panorÃ¡mico." },
        { day: 20, title: "DÃ­a 20 Â· 19 may Â· Costa Amalfitana", cityKey: "positano", coords: [40.6333, 14.602], description: "Positano, exploraciÃ³n completa." },
        { day: 21, title: "DÃ­a 21 Â· 20 may Â· Costa Amalfitana", cityKey: "amalfi", coords: [40.6344, 14.6026], description: "Amalfi, Ravello y Villa Cimbrone." },
        { day: 22, title: "DÃ­a 22 Â· 21 may Â· Sorrento/Capri", cityKey: "sorrento", coords: [40.6263, 14.3754], description: "Sorrento + âœ… ExcursiÃ³n a Capri (ferry desde Sorrento, 20-30 min)." },
        { day: 23, title: "DÃ­a 23 Â· 21 may noche Â· NÃ¡poles", cityKey: "napoles", coords: [40.8518, 14.2681], description: "Traslado Sorrento â†’ NÃ¡poles, dormir cerca del aeropuerto." },
        { day: 24, title: "DÃ­a 24 Â· 24 may Â· NÃ¡poles/Madrid", cityKey: "madrid", coords: [40.4168, -3.7038], description: "âœ… Vuelo 06:05h NAP â†’ 08:50h MAD (directo, 2h 45min, â‚¬91.77)." },
        { day: 25, title: "DÃ­a 25 Â· 25 may Â· Vuelo a Uruguay", cityKey: "madrid", coords: [40.4168, -3.7038], description: "Traslado al aeropuerto y vuelo de regreso." },
      ];

      const map = L.map("travelMap", { scrollWheelZoom: false }).setView(
        [43.5, 7.5],
        4
      );

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "&copy; OpenStreetMap contributors",
        maxZoom: 18,
      }).addTo(map);

      const dayMarkers = {};
      const cityStops = [];
      const seenCities = new Set();

      itineraryDays.forEach((stop) => {
        const marker = L.circleMarker(stop.coords, {
          radius: 6,
          color: "#4b6bfb",
          fillColor: "#4b6bfb",
          fillOpacity: 0.85,
          weight: 2,
        })
          .addTo(map)
          .bindPopup(`<strong>${stop.title}</strong><br />${stop.description}`);
        dayMarkers[stop.day] = marker;

        if (!seenCities.has(stop.cityKey)) {
          seenCities.add(stop.cityKey);
          cityStops.push({ day: stop.day, coords: stop.coords });
        }
      });

      L.polyline(
        cityStops.map((stop) => stop.coords),
        { color: "#a7b3ff", weight: 2, dashArray: "6 8" }
      ).addTo(map);

      const progressLine = L.polyline([], {
        color: "#4b6bfb",
        weight: 4,
        opacity: 0.85,
      }).addTo(map);

      const timelineSlider = document.getElementById("timelineSlider");
      const timelineCurrentDay = document.getElementById("timelineCurrentDay");
      const timelineSliderProgress = document.getElementById("timelineSliderProgress");

      function updateProgressBar(day) {
        const progressPercent = ((day - 1) / (itineraryDays.length - 1)) * 100;
        timelineSliderProgress.style.width = `${progressPercent}%`;
      }

      function focusDay(day, updateSlider = true) {
        const stop = itineraryDays.find((entry) => entry.day === day);
        if (!stop) return;

        const zoomLevel = stop.cityKey === "disney" ? 10 : stop.day <= 4 ? 6 : 7;
        map.flyTo(stop.coords, zoomLevel, { duration: 0.6 });

        Object.entries(dayMarkers).forEach(([key, marker]) => {
          const isActive = Number(key) === day;
          marker.setStyle({
            radius: isActive ? 9 : 6,
            color: isActive ? "#ff8a3d" : "#4b6bfb",
            fillColor: isActive ? "#ff8a3d" : "#4b6bfb",
          });
          if (isActive) marker.openPopup();
        });

        const pathPoints = cityStops
          .filter((point) => point.day <= day)
          .map((point) => point.coords);
        progressLine.setLatLngs(pathPoints);

        if (updateSlider) {
          timelineSlider.value = day;
          timelineCurrentDay.textContent = stop.title;
        }

        updateProgressBar(day);
      }

      timelineSlider.addEventListener("input", (e) => {
        const day = Number(e.target.value);
        if (!Number.isNaN(day)) {
          focusDay(day, false);
          const stop = itineraryDays.find((entry) => entry.day === day);
          if (stop) {
            timelineCurrentDay.textContent = stop.title;
          }
        }
      });

      document.querySelectorAll(".day-card").forEach((card) => {
        card.addEventListener("click", () => {
          const checkbox = card.querySelector('input[type="checkbox"]');
          const dayNumber = Number(checkbox.dataset.day);
          if (!Number.isNaN(dayNumber)) {
            focusDay(dayNumber);
          }
        });
      });

      focusDay(1);
    </script>
  </body>
</html>

